(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fcc1811"],{"0feb":function(e,t,l){"use strict";l("cf86")},"2fa3":function(e,t,l){"use strict";l.r(t);var r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"ele-body"},[l("el-card",{attrs:{shadow:"never"}},[l("el-form",{staticClass:"ele-form-search",attrs:{model:e.table.where,"label-width":"77px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.reload()},submit:function(e){e.preventDefault()}}},[l("el-row",{attrs:{gutter:15}},[l("el-col",{attrs:{md:6,sm:12}},[l("el-form-item",{attrs:{label:"用户名:"}},[l("el-input",{attrs:{placeholder:"用户名",clearable:""},model:{value:e.table.where.user_name,callback:function(t){e.$set(e.table.where,"user_name",t)},expression:"table.where.user_name"}})],1)],1),l("el-col",{attrs:{md:6,sm:12}},[l("el-form-item",{attrs:{label:"所属平台:"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择所属平台"},model:{value:e.table.where.platform_id,callback:function(t){e.$set(e.table.where,"platform_id",t)},expression:"table.where.platform_id"}},e._l(e.platformoptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{md:6,sm:12}},[l("el-form-item",{attrs:{label:"开仓方向:"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择开仓方向"},model:{value:e.table.where.open_type,callback:function(t){e.$set(e.table.where,"open_type",t)},expression:"table.where.open_type"}},e._l(e.directionoptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{md:6,sm:12}},[l("el-form-item",{attrs:{label:"是否成交:"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择是否成交"},model:{value:e.table.where.is_deal,callback:function(t){e.$set(e.table.where,"is_deal",t)},expression:"table.where.is_deal"}},e._l(e.isoptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),l("el-row",{attrs:{gutter:15}},[l("el-col",{attrs:{md:6,sm:12}},[l("el-form-item",{attrs:{label:"订单号:"}},[l("el-input",{attrs:{placeholder:"请输入订单号",clearable:""},model:{value:e.table.where.order_id,callback:function(t){e.$set(e.table.where,"order_id",t)},expression:"table.where.order_id"}})],1)],1),l("el-col",{attrs:{md:9,sm:19}},[l("div",{staticClass:"block"},[l("el-form-item",{attrs:{label:"搜索时间"}},[l("el-date-picker",{staticStyle:{"margin-left":"10px"},attrs:{"value-format":"yyyy-MM-dd HH:mm",type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.rq_change},model:{value:e.create_time,callback:function(t){e.create_time=t},expression:"create_time"}})],1)],1)]),l("el-col",{attrs:{md:6,sm:12}},[l("el-form-item",{attrs:{label:"代币种类:"}},[l("el-input",{attrs:{placeholder:"请输入代币种类",clearable:""},model:{value:e.table.where.symbol,callback:function(t){e.$set(e.table.where,"symbol",t)},expression:"table.where.symbol"}})],1)],1)],1),l("el-row",{attrs:{gutter:15}},[l("el-col",{attrs:{md:6,sm:12}},[l("div",{staticClass:"ele-form-actions"},[l("el-button",{staticClass:"ele-btn-icon",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.$refs.table.reload()}}},[e._v("查询 ")]),l("el-button",{on:{click:function(t){(e.table.where={})&&e.$refs.table.reload()}}},[e._v("重置")])],1)])],1)],1),l("ele-data-table",{ref:"table",attrs:{config:e.table,choose:e.choose,height:"calc(100vh - 315px)","highlight-current-row":""},on:{"update:choose":function(t){e.choose=t}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.index;return[l("el-table-column",{attrs:{type:"selection",width:"45",align:"center",fixed:"left"}}),l("el-table-column",{attrs:{type:"index",index:r,label:"编号",width:"60",align:"center",fixed:"left","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"user_name",label:"用户名","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"symbol",label:"代币种类","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"rounds",label:"层级","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"order_id",label:"平台订单号","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"qb_usdt",label:"USDT数量","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"price",label:"购买行情价","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"up_stop_per",label:"止盈百分比","show-overflow-tooltip":"","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{staticClass:"green"},[e._v(e._s(100*t.row.up_stop_per)+"%")])]}}],null,!0)}),l("el-table-column",{attrs:{prop:"down_stop_per",label:"补仓百分比","show-overflow-tooltip":"","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{staticClass:"red"},[e._v(e._s(100*t.row.down_stop_per)+"%")])]}}],null,!0)}),l("el-table-column",{attrs:{prop:"up_stop_price",label:"止盈价格","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"down_stop_price",label:"补仓价格","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"qb_token",label:"剩余数量","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"is_deal",label:"是否成交",resizable:!1,"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[l("div",{style:{color:0==r.is_deal?"yellow":2==r.is_deal?"green":"red"}},[e._v(" "+e._s(0==r.is_deal?"未成交":2==r.is_deal?"已成交":"成交失败")+" ")])]}}],null,!0)}),l("el-table-column",{attrs:{prop:"is_sell",label:"是否卖出",resizable:!1,"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[l("div",{style:{color:0==r.is_sell?"#ffcc40":1==r.is_sell?"green":"red"}},[e._v(" "+e._s(0==r.is_sell?"未卖出":1==r.is_sell?"已卖出":"卖出失败")+" ")])]}}],null,!0)}),l("el-table-column",{attrs:{prop:"qb_fee",label:"手续费","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"platform_id",label:"所属平台","show-overflow-tooltip":"","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[l("div",[e._v(e._s(2==r.platform_id?"欧易":"币安"))])]}}],null,!0)}),l("el-table-column",{attrs:{prop:"lever",label:"合约倍数","show-overflow-tooltip":"","min-width":"120"}}),l("el-table-column",{attrs:{prop:"open_type",label:"开仓方向","show-overflow-tooltip":"","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[l("div",{style:{color:2==r.open_type?"green":"red"}},[e._v(" "+e._s(2==r.open_type?"做多":"做空")+" ")])]}}],null,!0)}),l("el-table-column",{attrs:{prop:"create_time",label:"创建时间","show-overflow-tooltip":"","min-width":"160"}}),l("el-table-column",{attrs:{prop:"update_time",label:"更新时间","show-overflow-tooltip":"","min-width":"160"}})]}}])})],1)],1)},a=[],o=(l("d81d"),l("5530")),s=l("2f62"),i={name:"SysSingleLoopBuy",data:function(){return{create_time:"",table:{url:"/singleloopbuy/index",where:{}},choose:[],showEdit:!1,editForm:{},editRules:{user_id:[{required:!0,message:"请输入管理用户",trigger:"blur"}],symbol:[{required:!0,message:"请输入代币种类",trigger:"blur"}],rounds:[{required:!0,message:"请输入补仓次数",trigger:"blur"}],order_id:[{required:!0,message:"请输入平台订单号",trigger:"blur"}],qb_usdt:[{required:!0,message:"请输入USDT数量",trigger:"blur"}],price:[{required:!0,message:"请输入购买行情价",trigger:"blur"}],up_stop_per:[{required:!0,message:"请输入止盈百分比",trigger:"blur"}],down_stop_per:[{required:!0,message:"请输入补仓百分比",trigger:"blur"}],up_stop_price:[{required:!0,message:"请输入止盈价格",trigger:"blur"}],down_stop_price:[{required:!0,message:"请输入补仓价格",trigger:"blur"}],qb_token:[{required:!0,message:"请输入购买数量",trigger:"blur"}],last_qb_token:[{required:!0,message:"请输入购买数量剩余",trigger:"blur"}],is_deal:[{required:!0,message:"请选择是否成交",trigger:"blur"}],is_sell:[{required:!0,message:"请选择是否卖出",trigger:"blur"}],is_next_buy:[{required:!0,message:"请输入是否执行下次补仓",trigger:"blur"}],qb_fee:[{required:!0,message:"请输入对应的手续费",trigger:"blur"}],platform_id:[{required:!0,message:"请输入所属平台",trigger:"blur"}],lever:[{required:!0,message:"请输入合约倍数（针对合约使用）",trigger:"blur"}],open_type:[{required:!0,message:"请输入开仓方向（针对合约使用）2做多 3做空",trigger:"blur"}],error:[{required:!0,message:"请输入错误",trigger:"blur"}],param:[{required:!0,message:"请输入备注",trigger:"blur"}],setup_id:[{required:!0,message:"请输入setup_id",trigger:"blur"}],is_auto:[{required:!0,message:"请输入自动或者手动",trigger:"blur"}]},directionoptions:[{value:2,label:"做多"},{value:3,label:"做空"}],platformoptions:[{value:2,label:"欧易"},{value:3,label:"币安"}],whetheroptions:[{value:0,label:"否"},{value:1,label:"是"}],options:[{value:0,label:"手动"},{value:1,label:"自动"}],isoptions:[{value:0,label:"未成交"},{value:2,label:"已成交"},{value:3,label:"成交失败"}],saleoptions:[{value:0,label:"未卖出"},{value:1,label:"已卖出"},{value:4,label:"卖出失败"}]}},computed:Object(o["a"])({},Object(s["b"])(["permission"])),mounted:function(){},methods:{rq_change:function(e){this.table.where.start_time=e[0],this.table.where.end_time=e[1]},edit:function(e){var t=this;this.$http.get("/singleloopbuy/info?id="+e.id).then((function(e){0===e.data.code?(t.editForm=e.data.data,t.showEdit=!0):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error(e.message)}))},save:function(){var e=this;this.$refs["editForm"].validate((function(t){if(!t)return!1;var l=e.$loading({lock:!0});e.$http.post("/singleloopbuy/edit",e.editForm).then((function(t){l.close(),0===t.data.code?(e.showEdit=!1,e.$message({type:"success",message:t.data.msg}),e.$refs.table.reload()):e.$message.error(t.data.msg)})).catch((function(t){l.close(),e.$message.error(t.message)}))}))},remove:function(e){var t=this;if(console.log(e),e){var l=this.$loading({lock:!0});this.$http.post("/singleloopbuy/delete",{id:e.id}).then((function(e){l.close(),0===e.data.code?(t.$message({type:"success",message:e.data.msg}),t.$refs.table.reload()):t.$message.error(e.data.msg)})).catch((function(e){l.close(),t.$message.error(e.message)}))}else{if(0===this.choose.length)return this.$message.error("请至少选择一条数据");var r=this.choose.map((function(e){return e.id}));this.$confirm("确定要删除选中的交易买入吗?","提示",{type:"warning"}).then((function(){var e=t.$loading({lock:!0});t.$http.post("/singleloopbuy/delete",{id:r}).then((function(l){e.close(),0===l.data.code?(t.$message({type:"success",message:l.data.msg}),t.$refs.table.reload()):t.$message.error(l.data.msg)})).catch((function(l){e.close(),t.$message.error(l.message)}))})).catch((function(){return 0}))}},setIsDeal:function(e){var t=this,l=this.$loading({lock:!0}),r=Object.assign({},e);this.$http.post("/singleloopbuy/setIsDeal",r).then((function(r){l.close(),0===r.data.code?t.$message({type:"success",message:r.data.msg}):(e.is_deal=e.is_deal?1:2,t.$message.error(r.data.msg))})).catch((function(e){l.close(),t.$message.error(e.message)}))},setIsSell:function(e){var t=this,l=this.$loading({lock:!0}),r=Object.assign({},e);this.$http.post("/singleloopbuy/setIsSell",r).then((function(r){l.close(),0===r.data.code?t.$message({type:"success",message:r.data.msg}):(e.is_sell=e.is_sell?1:2,t.$message.error(r.data.msg))})).catch((function(e){l.close(),t.$message.error(e.message)}))}}},n=i,u=(l("0feb"),l("2877")),c=Object(u["a"])(n,r,a,!1,null,"48cc933e",null);t["default"]=c.exports},cf86:function(e,t,l){}}]);